---
layout: post
title: Linux命令积累
tags: Linux
category: Linux
description: 
description: some commands used frequently
---

- 显示文件中查找内容的上下文

`grep -C 5 pattern file`,显示file文件中匹配pattern上下5行

`grep -B 5 pattern file`,显示file文件中匹配pattern前5行

`grep -A 5 pattern file`,显示file文件中匹配pattern后5行

----------

<!--more-->
<!--more-->

- 显示目前所有文件系统的可用空间及使用情形

`df -h`

----------

- 查询文件或文件夹的磁盘使用空间

`du -sh *`

----------

- nohup后台运行服务

`nohup java -jar jenkins.war &`

----------

- scp命令, 远程复制文件

> [scp命令](http://www.cnblogs.com/hitwtx/archive/2011/11/16/2251254.html)

把当前一个文件copy到远程另外一台主机上：`scp /home/Users/zhuji/jenkins.war root@192.168.128.130:/home/root`, 然后会提示你输入另外那台172.19.2.75主机的root用户的登录密码, 接着就开始copy了.

把文件从远程主机copy到当前系统:`scp root@192.168.128.130:/home/root/jenkins.war /home/Users/zhuji`

----------

- 统计文件中某个字符串出现的次数

1. 使用vim统计

`:%s/objstr//gn`

2. grep

`grep objstr filename | wc -l`

统计多个字符串出现的次数 `grep -o ‘objStr1\|objStr2'  filename|wc -l  #直接用\| 链接起来即可`

----------

- 批量杀掉筛选的进程

`ps -ef | grep lantern | grep -v grep | awk '{print $2}' | xargs kill -9`

grep -v grep-v 显示不包含匹配文本的所有行, 在这里为筛选出所有不包含grep名称的进程

awk '{print $2}'将上一步中过滤得到的进程进行打印, $2表示打印第二个域(PID, 进程号) $0表示所有域,$1表示第一个域, $n表示第n个域

xargs命令是给命令传递参数的过滤器, 善于把标准数据数据转换成命令行参数. 在这里则是将获取前一个命令的标准输出然后转换成命令行参数传递给后面的kill命令